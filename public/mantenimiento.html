<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mantenimiento</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    const rolUsuario = localStorage.getItem("role") || "viewer";
    if (!localStorage.getItem("loggedIn")) {
      alert("Debes iniciar sesi√≥n para acceder.");
      window.location.href = "index.html";
    }
  </script>
</head>
<body class="bg-gray-100 text-gray-900">
<header class="bg-white shadow-md sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4 py-3 flex flex-col md:flex-row md:items-center md:justify-between">
    <div class="flex items-center justify-between">
      <a href="index.html" class="flex items-center space-x-2">
        <img src="..." alt="Logo" class="h-10 w-auto" />
        <span class="text-xl font-bold text-red-600">SIMio</span>
        <span id="rolVisual" class="text-sm text-gray-500 italic ml-4">(Rol: <span id="nombreRol">...</span>)</span>
      </a>
      <button id="menuToggle" class="md:hidden text-gray-700 focus:outline-none">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
    <nav class="hidden md:flex space-x-6 text-sm font-medium mt-2 md:mt-0">
      <a href="index.html" class="text-gray-700 hover:text-red-600">Home</a>
      <a href="inventario.html" class="text-gray-700 hover:text-red-600">Inventario</a>
      <a href="mantenimiento.html" class="text-red-600 hover:text-red-600 font-bold">Mantenimiento</a>
      <a href="maquinas.html" class="text-gray-700 hover:text-red-600">Diagrama de M√°quinas</a>
      <a href="info.html" title="Ver documentaci√≥n" class="text-gray-500 hover:text-red-600"> ‚ÑπÔ∏è </a>
    </nav>
    <div id="mobileMenu" class="md:hidden hidden flex flex-col space-y-2 mt-2">
      <a href="index.html" class="block py-2 text-gray-700 hover:text-red-600">Home</a>
      <a href="inventario.html" class="block py-2 text-gray-700 hover:text-red-600">Inventario</a>
      <a href="mantenimiento.html" class="block py-2 text-gray-700 hover:text-red-600">Mantenimiento</a>
      <a href="maquinas.html" class="block py-2 text-gray-700 hover:text-red-600">Diagrama de M√°quinas</a>
      <a href="info.html" class="block py-2 text-gray-700 hover:text-red-600">‚ÑπÔ∏è Info</a>
    </div>
  </div>
</header>
<main class="max-w-7xl mx-auto mt-10 p-4">
  <h2 class="text-lg font-semibold text-gray-700 mb-4">üìÑ Formulario de Mantenimiento</h2>
  <form id="formMantenimiento" enctype="multipart/form-data" class="grid md:grid-cols-3 gap-4 bg-white p-6 rounded shadow mb-6">
    <input class="p-2 border rounded" name="maquina" placeholder="M√°quina" required />
    <input class="p-2 border rounded" name="linea" placeholder="L√≠nea" />
    <input class="p-2 border rounded" name="fecha" type="date" />
    <input class="p-2 border rounded" name="tecnico" placeholder="T√©cnico" />
    <input class="p-2 border rounded" name="tiempo" type="number" placeholder="Horas mantenimiento" step="0.1" />
    <input class="p-2 border rounded" name="observaciones" placeholder="Observaciones" />
    <input type="hidden" name="id" id="idMantenimiento" />
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1" for="fotoman">Subir o Tomar Foto</label>
      <input class="p-2 border rounded w-full" type="file" name="fotoman" id="fotoman" accept="image/*" capture="environment" />
    </div>
    <select name="estadomotor" class="p-2 border rounded"><option value="">Motor</option><option>Operativo</option><option>Ruido Anormal</option><option>Vibraci√≥n</option><option>Sobrecalentamiento</option><option>Sin funcionamiento</option></select>
    <select name="transmision" class="p-2 border rounded"><option value="">Transmisi√≥n</option><option>Operativa</option><option>Desgaste</option><option>Desalineada</option><option>Falla</option></select>
    <select name="hidraulico" class="p-2 border rounded"><option value="">Hidr√°ulico</option><option>Sin fugas</option><option>Con fugas</option><option>Baja presi√≥n</option><option>Obstruido</option></select>
    <select name="neumatico" class="p-2 border rounded"><option value="">Neum√°tico</option><option>Correcto</option><option>Fuga de aire</option><option>P√©rdida de presi√≥n</option><option>Desgaste excesivo</option></select>
    <select name="electrico" class="p-2 border rounded"><option value="">El√©ctrico</option><option>Funciona bien</option><option>Corto circuito</option><option>Sensor fallando</option><option>Sin se√±al</option></select>
    <select name="estadoaccion" class="p-2 border rounded"><option value="">Estado Acci√≥n</option><option>Reparado</option><option>Pendiente</option><option>En seguimiento</option><option>Fuera de servicio</option></select>
    <fieldset class="col-span-full space-x-2">
      <legend class="font-semibold">S√≠ntomas Encontrados</legend>
      <label><input type="checkbox" name="sintomas" value="Ruido Anormal" /> Ruido Anormal</label>
      <label><input type="checkbox" name="sintomas" value="Fugas de L√≠quido" /> Fugas de L√≠quido</label>
      <label><input type="checkbox" name="sintomas" value="Olor a Quemado" /> Olor a Quemado</label>
      <label><input type="checkbox" name="sintomas" value="Corrosi√≥n" /> Corrosi√≥n</label>
      <label><input type="checkbox" name="sintomas" value="Vibraci√≥n Excesiva" /> Vibraci√≥n Excesiva</label>
      <label><input type="checkbox" name="sintomas" value="Sobrecalentamiento" /> Sobrecalentamiento</label>
      <label><input type="checkbox" name="sintomas" value="Humo" /> Humo</label>
      <label><input type="checkbox" name="sintomas" value="Desgaste Irregular" /> Desgaste Irregular</label>
    </fieldset>
    <button id="btnGuardar" class="col-span-full bg-red-600 text-white p-2 rounded hover:bg-red-700" type="submit">Guardar</button>
  </form>
  <hr class="my-10 border-t-2" />
</main>
<footer class="bg-gray-600 text-gray-200 text-center py-6 mt-10 text-sm">
  <div class="max-w-4xl mx-auto px-4 flex flex-col items-center space-y-2">
    <p>¬© 2025 <strong><a href="https://geo-way.github.io/GeoWay.io/index.html" class="hover:underline">GEOWAY</a></strong>, Technology-Based Initiative ‚Äì IBT. All rights reserved.</p>
    <img src="https://geo-way.github.io/GeoWay.io/images/Logo5.png" alt="GEOWAY Logo" class="h-8 md:h-6 w-auto" />
  </div>
</footer>
<script>
  document.getElementById("menuToggle").addEventListener("click", () => {
    document.getElementById("mobileMenu").classList.toggle("hidden");
  });
</script>
</body>
</html>
